if game.PlaceId == 4924922222 then
local Library = loadstring(game:HttpGet("https://github.com/contateste8/ProtectionMenuRedzLib/raw/refs/heads/main/main.luau%20(3)%20(1).txt"))()

local Window = Library:MakeWindow({
	Title = "Protection Menu",
	SubTitle = "Protection Menu",
	ScriptFolder = "Protection-Menu"
})

local Minimizer = Window:NewMinimizer({
  KeyCode = Enum.KeyCode.LeftControl
})

local MobileMinimize = Minimizer:CreateMobileMinimizer({
	Image = "rbxassetid://10734951847",
	BackgroundTransparency = 1,
})

-- Tabs

local ProtectionTab = Window:MakeTab({
  Title = "Protection",
  Icon = "shield"
})

local FlingEtcTab = Window:MakeTab({
  Title = "Fling/etc",
  Icon = "skull"
})

local AvatarTab = Window:MakeTab({
  Title = "Avatar",
  Icon = "shirt"
})

local ToolsTab = Window:MakeTab({
  Title = "Ferramentas",
  Icon = "backpack"
})

local VehicleTab = Window:MakeTab({
  Title = "Veículos",
  Icon = "car"
})

local SkyboxTab = Window:MakeTab({
  Title = "Skybox",
  Icon = "box"
})

local NukeTab = Window:MakeTab({
  Title = "Nuke",
  Icon = "cloud"
})

local UtilsTab = Window:MakeTab({
  Title = "Útil",
  Icon = "settings"
})

local HomeTab = Window:MakeTab({
  Title = "Casas",
  Icon = "home"
})

local PropsTab = Window:MakeTab({
  Title = "Props",
  Icon = "boxes"
})

local ExtraTab = Window:MakeTab({
  Title = "Extra",
  Icon = "code"
})

-- Automatic Functions

game:GetService("Players").LocalPlayer.PlayerGui.NoResetGUIHandler.AvatarEditorMenu.Catalog.Container.SkinToneList.Visible = true

-- Protection Tab

-- Services

local Players = game:GetService("Players")
local lp = Players.LocalPlayer
local LocalPlayer = Players.LocalPlayer

-- Functions

-- Anti Colisson (Best)

local a = {}
local b = {}

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function IsInCharacter(obj)
	if not LocalPlayer.Character then return false end
	return obj:IsDescendantOf(LocalPlayer.Character)
end

local function c(d)
	if IsInCharacter(d) then return end
	if d:IsA("BasePart") and not d.Anchored and not b[d] then
		b[d] = {CanCollide = d.CanCollide}
		d.CanCollide = false
		a[d] = true
	end
end

local function e()
	for _, f in ipairs(workspace:GetDescendants()) do
		c(f)
	end
	a._conn = workspace.DescendantAdded:Connect(function(f)
		c(f)
	end)
end

local function g()
	if a._conn then
		a._conn:Disconnect()
		a._conn = nil
	end
	for d, props in pairs(b) do
		if d and d.Parent then
			d.CanCollide = props.CanCollide
		end
	end
	a = {}
	b = {}
end

-- Anti Sit

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local antiSitEnabled = false
local connections = {}

local function disconnectAll()
	for _, c in pairs(connections) do
		if c then
			c:Disconnect()
		end
	end
	table.clear(connections)
end

local function applyAntiSit(character)
	local humanoid = character:WaitForChild("Humanoid", 5)
	if not humanoid then return end

	humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)

	if humanoid.Sit or humanoid:GetState() == Enum.HumanoidStateType.Seated then
		humanoid.Sit = false
		humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
	end

	connections[#connections + 1] = humanoid.Seated:Connect(function(isSeated)
		if isSeated and antiSitEnabled then
			humanoid.Sit = false
			humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
		end
	end)

	connections[#connections + 1] = humanoid.StateChanged:Connect(function(_, new)
		if new == Enum.HumanoidStateType.Seated and antiSitEnabled then
			humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
			humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
		end
	end)
end

-- Anti Crash (Best)

local function EnableAntiCrash()
game:GetService("Players").LocalPlayer.PlayerScripts.BulletVisualizerScript.Disabled = true
end

local function DisableAntiCrash()
game:GetService("Players").LocalPlayer.PlayerScripts.BulletVisualizerScript.Enabled = true
end

-- Anti Void

local function EnableAntiVoid()
workspace.FallenPartsDestroyHeight = 0/0
end

local function DisableAntiVoid()
workspace.FallenPartsDestroyHeight = -500
end

-- Anti Lag Server

local Players = game:GetService("Players")
local AntiLagServerEnabled = false

local function DeleteDupeTools(player)
	local backpack = player:FindFirstChildOfClass("Backpack")
	local char = player.Character
	if not (backpack or char) then return end

	local containers = {backpack, char}
	local count = {}
	
	for _, container in ipairs(containers) do
		if container then
			for _, tool in ipairs(container:GetChildren()) do
				if tool:IsA("Tool") then
					count[tool.Name] = (count[tool.Name] or 0) + 1
				end
			end
		end
	end

	for toolName, num in pairs(count) do
		if num >= 5 then
			local toDelete = num - 1
			for _, container in ipairs(containers) do
				if container then
					for _, tool in ipairs(container:GetChildren()) do
						if tool:IsA("Tool") and tool.Name == toolName and toDelete > 0 then
							tool:Destroy()
							toDelete -= 1
						end
					end
				end
			end
		end
	end
end

local function MonitorPlayer(player)
	local function watchContainer(container)
		container.ChildAdded:Connect(function(child)
			if AntiLagServerEnabled and child:IsA("Tool") then
				DeleteDupeTools(player)
			end
		end)
	end

	local function setupCharacter(char)
		local backpack = player:FindFirstChildOfClass("Backpack")
		if backpack then watchContainer(backpack) end
		watchContainer(char)
	end

	player.CharacterAdded:Connect(setupCharacter)
	if player.Character then setupCharacter(player.Character) end
end

for _, p in ipairs(Players:GetPlayers()) do
	MonitorPlayer(p)
end

Players.PlayerAdded:Connect(MonitorPlayer)

-- Elements

ProtectionTab:AddSection("Protections")

ProtectionTab:AddToggle({
    Name = "Anti Collision",
    Description = "Te deixa completamente imune a flings de portas, carros, bolas, etc.",
    Default = false,
    Callback = function(Value)
        if Value then
            e()
        else
            g()
        end
    end
})

ProtectionTab:AddToggle({
	Name = "Anti Sit",
	Description = "Impede você de sentar em qualquer assento, te deixando completamente imune a sofás/carros.",
	Default = false,
	Callback = function(Value)
		antiSitEnabled = Value
		disconnectAll()

		if Value then
			if LocalPlayer.Character then
				applyAntiSit(LocalPlayer.Character)
			end

			connections[#connections + 1] = LocalPlayer.CharacterAdded:Connect(function(char)
				if antiSitEnabled then
					task.wait(0.15)
					applyAntiSit(char)
				end
			end)
		else
			if LocalPlayer.Character then
				local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
				if humanoid then
					humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
				end
			end
		end
	end
})

ProtectionTab:AddToggle({
    Name = "Anti Crash",
    Description = "Te deixa completamente imune ao glitch, áudio all e outras funções aí.",
    Default = false,
    Callback = function(Value)
        if Value then
            EnableAntiCrash()
        else
            DisableAntiCrash()
        end
    end
})

ProtectionTab:AddToggle({
    Name = "Anti Void",
    Description = "Te deixa completamente imune ao void.",
    Default = false,
    Callback = function(Value)
        if Value then
            EnableAntiVoid()
        else
            DisableAntiVoid()
        end
    end
})

ProtectionTab:AddToggle({
    Name = "Anti Lag Server",
    Description = "Permite que quando algum jogador ou você pegar 5 ou mais ferramentas duplicadas para tentar lagar o servidor, todas elas sejam apagadas do seu cliente automaticamente. Assim te fazendo não lagar muito.",
    Default = false,
    Callback = function(Value)
        AntiLagServerEnabled = Value
    end
})

local TargetIDs = {
    [tonumber("115959405843119")] = true,
    [tonumber("115869670697835")] = true,
    [tonumber("100839513065432")] = true,
    [tonumber("123402086843885")] = true,
    [tonumber("78300682916056")] = true,
    [tonumber("86276701020724")] = true,
    [tonumber("78409653958165")] = true,
    [tonumber("120668655481073")] = true
}

local AntiNukeEnabled = false
local Connections = {}
local PlayerAddedConnection
local PlayerRemovingConnection

local function HasID(list)
    if typeof(list) == "table" then
        for _, id in ipairs(list) do
            id = tonumber(id)
            if TargetIDs[id] then
                return true
            end
        end
    else
        local id = tonumber(list)
        if TargetIDs[id] then
            return true
        end
    end
    return false
end

local function DetectSameAsCopyAvatar(desc)
    if HasID(desc.Head) then return true end
    if HasID(desc.Face) then return true end
    if HasID(desc.Shirt) then return true end
    if HasID(desc.Pants) then return true end

    local body = {
        "Torso", "RightArm", "LeftArm", "RightLeg", "LeftLeg"
    }

    for _, b in ipairs(body) do
        if HasID(desc[b]) then return true end
    end

    local accessories = desc:GetAccessories(true)
    for _, ac in ipairs(accessories) do
        if ac.AssetId and TargetIDs[tonumber(ac.AssetId)] then
            return true
        end
    end

    local animations = {
        "IdleAnimation", "WalkAnimation", "RunAnimation", "JumpAnimation",
        "ClimbAnimation", "FallAnimation", "SwimAnimation"
    }

    for _, anim in ipairs(animations) do
        if HasID(desc[anim]) then return true end
    end

    return false
end

local function DestroyParts(char)
    local list = {
        "Head",
        "Torso", "UpperTorso", "LowerTorso",
        "Left Leg", "Right Leg",
        "LeftUpperLeg", "RightUpperLeg",
        "LeftLowerLeg", "RightLowerLeg"
    }

    for _, name in ipairs(list) do
        local part = char:FindFirstChild(name)
        if part then part:Destroy() end
    end
end

local function CheckCharacter(player, char)
    if not AntiNukeEnabled then return end
    if player == LocalPlayer then return end

    local hum = char:FindFirstChildOfClass("Humanoid")
    if not hum then return end

    local desc = hum:GetAppliedDescription()

    if DetectSameAsCopyAvatar(desc) then
        DestroyParts(char)
    end

    if Connections[player] then Connections[player]:Disconnect() end

    Connections[player] = hum.DescendantAdded:Connect(function()
        if not AntiNukeEnabled then return end
        local newDesc = hum:GetAppliedDescription()
        if DetectSameAsCopyAvatar(newDesc) then
            DestroyParts(char)
        end
    end)
end

local function Setup(player)
    if player == LocalPlayer then return end
    if player.Character then CheckCharacter(player, player.Character) end
    player.CharacterAdded:Connect(function(c) CheckCharacter(player, c) end)
end

ProtectionTab:AddToggle({
    Name = "Anti Skybox/Nuke",
    Description = "Apaga qualquer tipo de skybox ou nuke de outros exploiters.",
    Default = false,
    Callback = function(v)
        AntiNukeEnabled = v

        if v then
            for _, p in ipairs(Players:GetPlayers()) do Setup(p) end
            PlayerAddedConnection = Players.PlayerAdded:Connect(Setup)
            PlayerRemovingConnection = Players.PlayerRemoving:Connect(function(p)
                if Connections[p] then
                    Connections[p]:Disconnect()
                    Connections[p] = nil
                end
            end)
        else
            if PlayerAddedConnection then PlayerAddedConnection:Disconnect() end
            if PlayerRemovingConnection then PlayerRemovingConnection:Disconnect() end
            for _, c in pairs(Connections) do c:Disconnect() end
            Connections = {}
        end
    end
})

do
local Players = game:GetService("Players")
local lp = Players.LocalPlayer

local ImmortalEnabled = false
local loopTask

local function setImmortal(state)
	local char = lp.Character
	if not char then return end

	local hum = char:FindFirstChildOfClass("Humanoid")
	if not hum then return end

	if state then
		hum.BreakJointsOnDeath = false

		pcall(function()
			hum:SetStateEnabled(Enum.HumanoidStateType.Dead, false)
		end)

		hum.MaxHealth = 0
		hum.Health = 0

		if hum:GetState() == Enum.HumanoidStateType.Dead then
			hum:ChangeState(Enum.HumanoidStateType.Physics)
		end
	else
		pcall(function()
			hum:SetStateEnabled(Enum.HumanoidStateType.Dead, true)
		end)

		hum.MaxHealth = 100
		hum.Health = math.max(hum.Health, 1)
	end
end

local function startToggleLoop()
	if loopTask then
		task.cancel(loopTask)
	end

	loopTask = task.spawn(function()
		while ImmortalEnabled do
			-- ATIVA
			setImmortal(true)
			task.wait(1)

			if not ImmortalEnabled then break end

			-- DESATIVA
			setImmortal(false)
		end
	end)
end

local function stopToggleLoop()
	if loopTask then
		task.cancel(loopTask)
		loopTask = nil
	end

	setImmortal(false)
end

-- TOGGLE
ProtectionTab:AddToggle({
	Name = "Imortalidade (Loop)",
	Description = "Alterna imortalidade local a cada 1 segundo.",
	Default = false,
	Callback = function(Value)
		ImmortalEnabled = Value

		if Value then
			startToggleLoop()
		else
			stopToggleLoop()
		end
	end
})

-- Reaplica após respawn
lp.CharacterAdded:Connect(function()
	if ImmortalEnabled then
		task.wait(0.2)
		startToggleLoop()
	end
end)
end

-- Fling/Etc Tab

FlingEtcTab:AddSection("Selecionar jogador")

-- Fling de sofá
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local Targets = {""}
local LoopFling = false

-- Espectar
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local isViewingAll = false
local currentViewingPlayer = nil
local playerDiedEvent = nil
local playerChangedEvent = nil
local playerLeaveEvent = nil
local playerJoinEvent = nil
local ViewToggleOn = false

local function findPlayer(name)
    name = name:lower()
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name:lower() == name or 
           player.DisplayName:lower() == name or 
           player.Name:sub(1, #name):lower() == name or 
           player.DisplayName:sub(1, #name):lower() == name then
            return player
        end
    end
    return nil
end

local function startViewing(player)
    if currentViewingPlayer then
        if playerDiedEvent then playerDiedEvent:Disconnect() end
        if playerChangedEvent then playerChangedEvent:Disconnect() end
    end

    currentViewingPlayer = player
    Workspace.CurrentCamera.CameraSubject = currentViewingPlayer.Character

    playerDiedEvent = currentViewingPlayer.CharacterAdded:Connect(function()
        repeat task.wait() until currentViewingPlayer.Character and currentViewingPlayer.Character:FindFirstChild("HumanoidRootPart")
        Workspace.CurrentCamera.CameraSubject = currentViewingPlayer.Character
    end)

    playerChangedEvent = Workspace.CurrentCamera:GetPropertyChangedSignal("CameraSubject"):Connect(function()
        if currentViewingPlayer then
            Workspace.CurrentCamera.CameraSubject = currentViewingPlayer.Character
        end
    end)
end

local function viewAllPlayers()
    if getgenv()._ViewAllRunning then
        return
    end
    getgenv()._ViewAllRunning = true

    local localPlayer = Players.LocalPlayer
    local allPlayers = Players:GetPlayers()

    for _, player in ipairs(allPlayers) do
        if not isViewingAll then break end
        
        if player ~= localPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            startViewing(player)
            Window:Notify({
            Title = "Espectar todos",
            Content = "Você está na visão de " .. currentViewingPlayer.Name .. ".",
            Image = "eye",
            Duration = 5
            })
            task.wait(5)
        end
    end

    currentViewingPlayer = nil
    Workspace.CurrentCamera.CameraSubject = localPlayer.Character

    if playerDiedEvent then playerDiedEvent:Disconnect() end
    if playerChangedEvent then playerChangedEvent:Disconnect() end

    isViewingAll = false
    getgenv()._ViewAllRunning = false
    Window:Notify({
    Title = "Espectar todos",
    Content = "Espectar todos completo, você retornou para a sua visão.",
    Image = "eye",
    Duration = 3
    })
end

local function GetAndEquipCouch()
    local hasCouchInBackpack = false
    for _, v in ipairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
        if v:IsA("Tool") and v.Name == "Couch" then
            hasCouchInBackpack = true
            v.Grip = CFrame.new(0, 2, -2.5)
            v.Parent = game.Players.LocalPlayer.Character
            return true
        end
    end
    local args = {  
        [1] = "PickingTools",  
        [2] = "Couch"  
    }  
    game:GetService("ReplicatedStorage").RE:FindFirstChild("1Too1l"):InvokeServer(unpack(args))  
    
    local startTime = tick()  
    while tick() - startTime < 0.5 do  
        for _, v in ipairs(game.Players.LocalPlayer.Backpack:GetChildren()) do  
            if v:IsA("Tool") and v.Name == "Couch" then  
                v.Grip = CFrame.new(0, 2, -2.5)  
                v.Parent = game.Players.LocalPlayer.Character  
                return true  
            end  
        end  
        task.wait(0.1)  
    end
    return false
end

local function HandleToolV3()
    local args = {
        [1] = "PlayerWantsToDeleteTool",
        [2] = "Couch"
    }
    game:GetService("ReplicatedStorage").RE:FindFirstChild("1Clea1rTool1s"):FireServer(unpack(args))
    task.wait(0.5)
    local args = {
        [1] = "PickingTools",
        [2] = "Couch"
    }
    game:GetService("ReplicatedStorage").RE:FindFirstChild("1Too1l"):InvokeServer(unpack(args))
    
    if game.Players.LocalPlayer.Backpack:FindFirstChild("Couch") then
        game.Players.LocalPlayer.Backpack.Couch.Grip = CFrame.new(0, 2, -2.5)
    end
    
    local function equiptool()
        for i, v in ipairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
            if v:IsA("Tool") and v.Name == "Couch" then
                v.Parent = game.Players.LocalPlayer.Character
            end
        end
    end
    
    equiptool()
end

local PlayerDropdown = FlingEtcTab:AddDropdown({
	Name = "Selecionar jogador",
	Options = {},
	Default = "",
	Callback = function(Value)
		Targets[1] = Value
	end
})

local function UpdatePlayerList()
	local PlayerNames = {}
	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			table.insert(PlayerNames, plr.Name)
		end
	end
	PlayerDropdown:NewOptions(PlayerNames)
end

UpdatePlayerList()
Players.PlayerAdded:Connect(UpdatePlayerList)
Players.PlayerRemoving:Connect(UpdatePlayerList)

FlingEtcTab:AddSection("Espectar")

local ViewToggle = FlingEtcTab:AddToggle({
    Name = "Espectar",
    Description = "Especta o jogador selecionado (selecione um jogador primeiro).",
    Default = false,
    Callback = function(Value)
        ViewToggleOn = Value

        local function connectViewToPlayer(player)
            if not player or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return end

            if playerDiedEvent then playerDiedEvent:Disconnect() end
            if playerChangedEvent then playerChangedEvent:Disconnect() end
            if playerLeaveEvent then playerLeaveEvent:Disconnect() end
            if playerJoinEvent then playerJoinEvent:Disconnect() end

            startViewing(player)

            playerLeaveEvent = player.AncestryChanged:Connect(function()
                if not player.Parent then
                    Workspace.CurrentCamera.CameraSubject = Players.LocalPlayer.Character
                    currentViewingPlayer = nil
                end
            end)

            playerJoinEvent = Players.PlayerAdded:Connect(function(newPlayer)
                if newPlayer.Name == player.Name or newPlayer.DisplayName == player.DisplayName then
                    task.spawn(function()
                        repeat task.wait() until newPlayer.Character and newPlayer.Character:FindFirstChild("HumanoidRootPart")
                        connectViewToPlayer(newPlayer)
                    end)
                end
            end)
        end

        if Value then
            local player = findPlayer(Targets[1])
            if not player then return end
            connectViewToPlayer(player)

            if not getgenv()._UpdateViewConnection then
                getgenv()._UpdateViewConnection = true
                task.spawn(function()
                    local lastTarget = Targets[1]
                    while ViewToggleOn do
                        if Targets[1] ~= lastTarget then
                            lastTarget = Targets[1]
                            local newPlayer = findPlayer(lastTarget)
                            if newPlayer then
                                connectViewToPlayer(newPlayer)
                            else
                                Workspace.CurrentCamera.CameraSubject = Players.LocalPlayer.Character
                                currentViewingPlayer = nil
                            end
                        end
                        task.wait()
                    end
                    getgenv()._UpdateViewConnection = false
                end)
            end
        else
            if currentViewingPlayer then currentViewingPlayer = nil end
            if playerDiedEvent then playerDiedEvent:Disconnect() end
            if playerChangedEvent then playerChangedEvent:Disconnect() end
            if playerLeaveEvent then playerLeaveEvent:Disconnect() end
            if playerJoinEvent then playerJoinEvent:Disconnect() end
            Workspace.CurrentCamera.CameraSubject = Players.LocalPlayer.Character
        end
    end
})

FlingEtcTab:AddSection("Fling de sofá")

if getgenv()._CouchFling then
    return
end

if getgenv()._CouchFlingAll then
    return
end

FlingEtcTab:AddToggle({
    Name = "Fling de sofá",
    Description = "Ativa o fling de sofá no jogador selecionado (selecione um jogador primeiro).",
    Default = false,
    Callback = function(Value)
      if Value then
      if getgenv()._CouchFlingAll then
      return
      end
      getgenv()._CouchFling = true
      LoopFling = true
      task.spawn(function()
      GetAndEquipCouch()
        while LoopFling do
                    local hasCouch = false
                    for _, v in ipairs(game.Players.LocalPlayer.Character:GetChildren()) do
                        if v:IsA("Tool") and v.Name == "Couch" then
                            hasCouch = true
                            break
                        end
                    end
                    
                    if not hasCouch then
                        GetAndEquipCouch()
                    end
          local player = game.Players.LocalPlayer
          local mouse = player:GetMouse()
          local Targets = {Targets[1]}
          
          local Players = game:GetService("Players")
          local Player = Players.LocalPlayer
          
          local AllBool = false
          
          local GetPlayer = function(Name)
            Name = Name:lower()
            if Name == "all" or Name == "others" then
              AllBool = true
              return
            elseif Name == "random" then
              local GetPlayers = Players:GetPlayers()
              if table.find(GetPlayers,Player) then table.remove(GetPlayers,table.find(GetPlayers,Player)) end
              return GetPlayers[math.random(#GetPlayers)]
            elseif Name ~= "random" and Name ~= "all" and Name ~= "others" then
              for _,x in next, Players:GetPlayers() do
                if x ~= Player then
                  if x.Name:lower():match("^"..Name) then
                    return x;
                  elseif x.DisplayName:lower():match("^"..Name) then
                    return x;
                  end
                end
              end
            else
              return
            end
          end
          
          local Message = function(_Title, _Text, Time)
            print(_Title)
            print(_Text)
            print(Time)
          end

          local SkidFling = function(TargetPlayer)
            local Character = Player.Character
            local Humanoid = Character and Character:FindFirstChildOfClass("Humanoid")
            local RootPart = Humanoid and Humanoid.RootPart
            
            local TCharacter = TargetPlayer.Character
            local THumanoid
            local TRootPart
            local THead
            local Accessory
            local Handle
            
            if TCharacter:FindFirstChildOfClass("Humanoid") then
              THumanoid = TCharacter:FindFirstChildOfClass("Humanoid")
            end
            if THumanoid and THumanoid.RootPart then
              TRootPart = THumanoid.RootPart
            end
            if TCharacter:FindFirstChild("Head") then
              THead = TCharacter.Head
            end
            if TCharacter:FindFirstChildOfClass("Accessory") then
              Accessory = TCharacter:FindFirstChildOfClass("Accessory")
            end
            if Accessory and Accessory:FindFirstChild("Handle") then
              Handle = Accessory.Handle
            end
            
            if Character and Humanoid and RootPart then
              if RootPart.Velocity.Magnitude < 50 then
                print("teste")
                getgenv().OldPos = RootPart.CFrame
              end
              if THumanoid and THumanoid.Sit and not AllBool then
              end
              if THead then
                workspace.CurrentCamera.CameraSubject = THead
              elseif not THead and Handle then
                workspace.CurrentCamera.CameraSubject = Handle
              elseif THumanoid and TRootPart then
                workspace.CurrentCamera.CameraSubject = THumanoid
              end
              if not TCharacter:FindFirstChildWhichIsA("BasePart") then
                return
              end
              
              local FPos = function(BasePart, Pos, Ang)
                RootPart.CFrame = CFrame.new(BasePart.Position) * Pos * Ang
                Character:SetPrimaryPartCFrame(CFrame.new(BasePart.Position) * Pos * Ang)
                RootPart.Velocity = Vector3.new(9e7, 9e7 * 10, 9e7)
                RootPart.RotVelocity = Vector3.new(9e8, 9e8, 9e8)
              end
              
              local SFBasePart = function(BasePart)
                local TimeToWait = 2
                local Time = tick()
                local Angle = 0
                
                repeat
                  if RootPart and THumanoid then
                    if BasePart.Velocity.Magnitude < 50 then
                      Angle = Angle + 100
                      
                      FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle),0 ,0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(2.25, 1.5, -2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(-2.25, -1.5, 2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection,CFrame.Angles(math.rad(Angle), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection,CFrame.Angles(math.rad(Angle), 0, 0))
                      task.wait()
                    else
                      FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, -1.5, -THumanoid.WalkSpeed), CFrame.Angles(0, 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, -1.5, -TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(0, 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(math.rad(90), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0, 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, -1.5 ,0), CFrame.Angles(math.rad(-90), 0, 0))
                      task.wait()
                      
                      FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0, 0, 0))
                      task.wait()
                    end
                  else
                    break
                  end
                until BasePart.Velocity.Magnitude > 500 or BasePart.Parent ~= TargetPlayer.Character or TargetPlayer.Parent ~= Players or not TargetPlayer.Character == TCharacter or THumanoid.Sit or Humanoid.Health <= 0 or tick() > Time + TimeToWait
              end
              
              
              local BV = Instance.new("BodyVelocity")
              BV.Name = "EpixVel"
              BV.Parent = RootPart
              BV.Velocity = Vector3.new(9e8, 9e8, 9e8)
              BV.MaxForce = Vector3.new(1/0, 1/0, 1/0)
              
              Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
              
              if TRootPart and THead then
                if (TRootPart.CFrame.p - THead.CFrame.p).Magnitude > 5 then
                  SFBasePart(THead)
                else
                  SFBasePart(TRootPart)
                end
              elseif TRootPart and not THead then
                SFBasePart(TRootPart)
              elseif not TRootPart and THead then
                SFBasePart(THead)
              elseif not TRootPart and not THead and Accessory and Handle then
                SFBasePart(Handle)
              else
              end
              
              BV:Destroy()
              Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
              workspace.CurrentCamera.CameraSubject = Humanoid
            else
            end
          end
          
          getgenv().Welcome = true
          if Targets[1] then for _,x in next, Targets do GetPlayer(x) end else return end
          
          if AllBool then
            for _,x in next, Players:GetPlayers() do
              SkidFling(x)
            end
          end
          
          for _,x in next, Targets do
            if GetPlayer(x) and GetPlayer(x) ~= Player then
              if GetPlayer(x).UserId ~= 0 then
                local TPlayer = GetPlayer(x)
                if TPlayer then
                  while not TPlayer.Character do
                    task.wait(1)
                  end
                  SkidFling(TPlayer)
                end
              else
              end
            elseif not GetPlayer(x) and not AllBool then
            end
          end
          task.wait()
        end
      end)
      workspace.FallenPartsDestroyHeight = 0/0
    else
      LoopFling = false
      workspace.FallenPartsDestroyHeight = -500
      getgenv()._CouchFling = false
    end
    end
})

FlingEtcTab:AddButton({
	Name = "Fling de sofá (todos)",
	Description = "Usa o fling de sofá em todos os jogadores do servidor.",
	Callback = function()
	    if getgenv()._CouchFling then
	    return
	    end
	    getgenv()._CouchFlingAll = true
	    local player = game.Players.LocalPlayer
local mouse = player:GetMouse()
local Targets = {"all"}

local Players = game:GetService("Players")
local Player = Players.LocalPlayer

local AllBool = false

local GetPlayer = function(Name)
    Name = Name:lower()
    if Name == "all" or Name == "others" then
        AllBool = true
        return
    elseif Name == "random" then
        local GetPlayers = Players:GetPlayers()
        if table.find(GetPlayers,Player) then table.remove(GetPlayers,table.find(GetPlayers,Player)) end
        return GetPlayers[math.random(#GetPlayers)]
    elseif Name ~= "random" and Name ~= "all" and Name ~= "others" then
        for _,x in next, Players:GetPlayers() do
            if x ~= Player then
                if x.Name:lower():match("^"..Name) then
                    return x;
                elseif x.DisplayName:lower():match("^"..Name) then
                    return x;
                end
            end
        end
    else
        return
    end
end

local Message = function(_Title, _Text, Time)
    print(_Title)
    print(_Text)
    print(Time)
end

local SkidFling = function(TargetPlayer)
    if not TargetPlayer or not TargetPlayer.Character then
        return
    end
    
    HandleToolV3()
    task.wait(0.5)
    
    local Character = Player.Character
    if not Character then return end
    
    local Humanoid = Character:FindFirstChildOfClass("Humanoid")
    local RootPart = Humanoid and Humanoid.RootPart
    
    if not Humanoid or not RootPart then
        return
    end
    
    local TCharacter = TargetPlayer.Character
    if not TCharacter then return end
    
    local THumanoid = TCharacter:FindFirstChildOfClass("Humanoid")
    local TRootPart = THumanoid and THumanoid.RootPart
    local THead = TCharacter:FindFirstChild("Head")
    local Accessory = TCharacter:FindFirstChildOfClass("Accessory")
    local Handle = Accessory and Accessory:FindFirstChild("Handle")
    
    if not THumanoid or not TRootPart then
        return
    end
    
    if RootPart.Velocity.Magnitude < 50 then
        getgenv().OldPos = RootPart.CFrame
    end
    
    if THead then
        workspace.CurrentCamera.CameraSubject = THead
    elseif not THead and Handle then
        workspace.CurrentCamera.CameraSubject = Handle
    elseif THumanoid then
        workspace.CurrentCamera.CameraSubject = THumanoid
    end
    
    if not TCharacter:FindFirstChildWhichIsA("BasePart") then
        return
    end
    
    local FPos = function(BasePart, Pos, Ang)
        if not BasePart or not BasePart.Parent then return end
        RootPart.CFrame = CFrame.new(BasePart.Position) * Pos * Ang
        Character:SetPrimaryPartCFrame(CFrame.new(BasePart.Position) * Pos * Ang)
        RootPart.Velocity = Vector3.new(9e7, 9e7 * 10, 9e7)
        RootPart.RotVelocity = Vector3.new(9e8, 9e8, 9e8)
    end
    
    local SFBasePart = function(BasePart)
        if not BasePart or not BasePart.Parent then return end
        local TimeToWait = 10
        local Time = tick()
        local Angle = 0

        repeat
            if RootPart and THumanoid and BasePart and BasePart.Parent then
                if BasePart.Velocity.Magnitude < 50 then
                    Angle = Angle + 100

                    FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle),0 ,0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(2.25, 1.5, -2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(-2.25, -1.5, 2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection,CFrame.Angles(math.rad(Angle), 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection,CFrame.Angles(math.rad(Angle), 0, 0))
                    task.wait()
                else
                    FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90), 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, -1.5, -THumanoid.WalkSpeed), CFrame.Angles(0, 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90), 0, 0))
                    task.wait()
                    
                    FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90), 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, -1.5, -TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(0, 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90), 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(math.rad(90), 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0, 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, -1.5 ,0), CFrame.Angles(math.rad(-90), 0, 0))
                    task.wait()

                    FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0, 0, 0))
                    task.wait()
                end
            else
                break
            end
        until (not BasePart or not BasePart.Parent or not TargetPlayer or not TargetPlayer.Parent or not TargetPlayer.Character or TargetPlayer.Character ~= TCharacter or not THumanoid or THumanoid.Sit or Humanoid.Health <= 0 or tick() > Time + TimeToWait) or BasePart.Velocity.Magnitude > 500
    end
    
    workspace.FallenPartsDestroyHeight = 0/0
    
    local BV = Instance.new("BodyVelocity")
    BV.Name = "EpixVel"
    BV.Parent = RootPart
    BV.Velocity = Vector3.new(1e9, 1e9, 1e9)
    BV.MaxForce = Vector3.new(1/0, 1/0, 1/0)
    
    Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
    
    if TRootPart and THead then
        if (TRootPart.CFrame.p - THead.CFrame.p).Magnitude > 5 then
            SFBasePart(THead)
        else
            SFBasePart(TRootPart)
        end
    elseif TRootPart and not THead then
        SFBasePart(TRootPart)
    elseif not TRootPart and THead then
        SFBasePart(THead)
    elseif not TRootPart and not THead and Accessory and Handle then
        SFBasePart(Handle)
    end
    
    if BV then BV:Destroy() end
    Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
    workspace.CurrentCamera.CameraSubject = Humanoid
    
    if getgenv().OldPos then
        repeat
            RootPart.CFrame = getgenv().OldPos * CFrame.new(0, .5, 0)
            Character:SetPrimaryPartCFrame(getgenv().OldPos * CFrame.new(0, .5, 0))
            Humanoid:ChangeState("GettingUp")
            table.foreach(Character:GetChildren(), function(_, x)
                if x:IsA("BasePart") then
                    x.Velocity, x.RotVelocity = Vector3.new(), Vector3.new()
                end
            end)
            task.wait()
        until (RootPart.Position - getgenv().OldPos.p).Magnitude < 25
    end
end

getgenv().Welcome = true
if Targets[1] then for _,x in next, Targets do GetPlayer(x) end else return end

if AllBool then
    for _,x in next, Players:GetPlayers() do
        if x ~= Player then
            SkidFling(x)
        end
    end
end

for _,x in next, Targets do
    if GetPlayer(x) and GetPlayer(x) ~= Player then
        if GetPlayer(x).UserId ~= 0/0 then
            local TPlayer = GetPlayer(x)
            if TPlayer then
                SkidFling(TPlayer)
            end
        end
    end
end
workspace.FallenPartsDestroyHeight = -500
getgenv()._CouchFlingAll = false
	end
})

FlingEtcTab:AddSection("Teleportar")

FlingEtcTab:AddButton({
	Name = "Teleportar",
	Description = "Teleporta você para o jogador selecionado (selecione um jogador primeiro).",
	Callback = function()
	    local target = findPlayer(Targets[1])
	    if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
	        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame =
	            target.Character.HumanoidRootPart.CFrame
	    else
	    end
	end
})

FlingEtcTab:AddSection("Espectar todos")

FlingEtcTab:AddButton({
  Name = "Espectar todos",
  Description = "Especta cada jogador do servidor e depois retorna para a sua visão.",
  Debounce = 0,
  Callback = function()
    if not isViewingAll then
           ViewToggle:SetValue(false)
            isViewingAll = true
            coroutine.wrap(viewAllPlayers)()
        end
  end
})

FlingEtcTab:AddButton({
  Name = "Parar de espectar todos",
  Description = "Para o processo de espectar todos.",
  Debounce = 0,
  Callback = function()
    Window:Notify({
    Title = "Espectar todos",
    Content = "Parando espectar todos",
    Image = "eye",
    Duration = 3
    })
    isViewingAll = false
    getgenv()._ViewAllRunning = false
  end
})

-- Avatar Tab

AvatarTab:AddSection("Copiar avatar")

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RE = ReplicatedStorage:FindFirstChild("RE")
local Target = nil

local PlayerDropdownAvatar = AvatarTab:AddDropdown({
	Name = "Selecionar jogador",
	Options = {},
	Default = "",
	Callback = function(Value)
	if not Value or Value == "" then
		Target = nil
		return
	end
	
	for _, player in ipairs(Players:GetPlayers()) do
		if player.Name:lower():find(Value:lower(), 1, true)
			or player.DisplayName:lower():find(Value:lower(), 1, true) then
			Target = player.Name
			return
		end
	end
	Target = nil
end
})

local function UpdatePlayerListAvatar()
	local PlayerNamesAvatar = {}
	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			table.insert(PlayerNamesAvatar, plr.Name)
		end
	end
	PlayerDropdownAvatar:NewOptions(PlayerNamesAvatar)
end

UpdatePlayerListAvatar()
Players.PlayerAdded:Connect(UpdatePlayerListAvatar)
Players.PlayerRemoving:Connect(UpdatePlayerListAvatar)

AvatarTab:AddButton({
  Name = "Copiar avatar",
  Description = "Copia o avatar do jogador selecionado (selecione um jogador primeiro).",
  Debounce = 0,
  Callback = function()
    if getgenv()._CopyAvatarRunning then
    return
end
getgenv()._CopyAvatarRunning = true
if not Target then
return
end

local Player = Players:FindFirstChild(Target)
if not Player or not Player.Character then
return
end

local Character = Player.Character
local Humanoid = Character:FindFirstChildOfClass("Humanoid")
if not Humanoid then return end
local PDesc = Humanoid:GetAppliedDescription()
local LPDesc = Players.LocalPlayer.Character.Humanoid:GetAppliedDescription()
local WearRemote = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:FindFirstChildOfClass("Humanoid")
if not Humanoid then return end

local Desc = Humanoid:GetAppliedDescription()

for _, accessory in ipairs(Desc:GetAccessories(true)) do
if accessory.AssetId then
local args = {
[1] = tonumber(accessory.AssetId)
}
WearRemote:InvokeServer(unpack(args))
end
end

task.wait()
local args = {
[1] = tonumber(PDesc.Shirt)

}

game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args))
task.wait()
local args = {
[1] = tonumber(PDesc.Pants)
}

game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args))
task.wait()
local args = {
[1] = {
[1] = PDesc.Torso
}
}

game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
local args = {
[1] = {
[1] = PDesc.Torso,
[2] = PDesc.RightArm,
[3] = PDesc.LeftArm,
[4] = PDesc.RightLeg,
[5] = PDesc.LeftLeg,
[6] = 0
}
}

game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
task.wait()
if tostring(PDesc.Head) ~= tostring(LPDesc.Head) then
    local args = {
        [1] = PDesc.Head
    }
    game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args))
end
task.wait()
local args = {
[1] = tonumber(PDesc.Face)
}

game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args))

for _, v in ipairs(PDesc:GetAccessories(true)) do
if v.AssetId then
task.wait()
local args = {
[1] = tonumber(v.AssetId)

}

game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args))
end
end

local TargetCharacter = Player.Character
if TargetCharacter then
    local SkinColor = TargetCharacter:FindFirstChild("Body Colors")
    if SkinColor then
        task.wait()
        local args = {
            tostring(SkinColor.HeadColor)
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("ChangeBodyColor"):FireServer(unpack(args))
    end
end

local function GetRPValue(path)
local success, value = pcall(function()
return Player.PlayersBag[path].Value
end)
return success and value or nil
end

local RPName = GetRPValue("RPName")
local RPNameColor = GetRPValue("RPNameColor")
local RPBio = GetRPValue("RPBio")
local RPBioColor = GetRPValue("RPBioColor")

if RPName then
RE:FindFirstChild("1RPNam1eTex1t"):FireServer("RolePlayName", RPName)
end

if RPNameColor then
local c = RPNameColor
if typeof(c) == "table" and c.R and c.G and c.B then
c = Color3.new(c.R / 255, c.G / 255, c.B / 255)
end
RE:WaitForChild("1RPNam1eColo1r"):FireServer("PickingRPNameColor", c)
end

if RPBio then
RE:FindFirstChild("1RPNam1eTex1t"):FireServer("RolePlayBio", RPBio)
end

if RPBioColor then
local c = RPBioColor
if typeof(c) == "table" and c.R and c.G and c.B then
c = Color3.new(c.R / 255, c.G / 255, c.B / 255)
end
RE:WaitForChild("1RPNam1eColo1r"):FireServer("PickingRPBioColor", c)
end

local Animations = {
"IdleAnimation", "WalkAnimation", "RunAnimation",
"JumpAnimation", "ClimbAnimation", "FallAnimation",
"SwimAnimation"
}

for _, anim in ipairs(Animations) do
    local AnimId = PDesc[anim]
    if AnimId and tostring(AnimId):match("^%d+$") and tonumber(AnimId) > 0 then
        task.wait()
        local args = {
            [1] = tonumber(AnimId)
        }
        game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args))
    end
end

getgenv()._CopyAvatarRunning = false
  end
})

AvatarTab:AddSection("Salvar avatares")

do
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")
local LocalPlayer = Players.LocalPlayer
local HttpService = game:GetService("HttpService")

local SavedAvatars = {}
local avatarNameInput = ""
local selectedAvatar = nil
local animationConnection = nil

local SaveFileName = "SavedAvatars.json"

local function LoadAvatarsFromFile()
    if not isfolder("SavedAvatarsA") then
        makefolder("SavedAvatarsA")
    end
    local filePath = "SavedAvatarsA/"..SaveFileName
    if isfile(filePath) then
        local s, r = pcall(function()
            return HttpService:JSONDecode(readfile(filePath))
        end)
        if s and r then SavedAvatars = r else SavedAvatars = {} end
    else
        SavedAvatars = {}
    end
end

local function SaveAvatarsToFile()
    if not isfolder("SavedAvatarsA") then
        makefolder("SavedAvatarsA")
    end
    local filePath = "SavedAvatarsA/"..SaveFileName
    pcall(function()
        writefile(filePath, HttpService:JSONEncode(SavedAvatars))
    end)
end

LoadAvatarsFromFile()

AvatarTab:AddTextBox({
    Name = "Nome do avatar",
    PlaceholderText = "",
    Callback = function(Value)
        avatarNameInput = Value
    end
})

local function getAvatarList()
    local list = {}
    for name,_ in pairs(SavedAvatars) do
        table.insert(list, name)
    end
    return list
end

local avatarDropdown = AvatarTab:AddDropdown({
    Name = "Avatares salvos",
    Description = "Selecione um avatar salvo",
    Options = getAvatarList(),
    Default = "",
    Callback = function(value)
        selectedAvatar = value
    end
})

local function UpdateAvatarDropdown()
    if avatarDropdown then
        local names = {}
        for name,_ in pairs(SavedAvatars) do
            table.insert(names, name)
        end
        avatarDropdown:NewOptions(names)
        if #names == 0 then
            selectedAvatar = nil
        end
    end
end

local function GetCurrentAvatar()
    local character = LocalPlayer.Character
    if not character then return nil end
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return nil end

    local desc = humanoid:GetAppliedDescription()
    local accessories = desc:GetAccessories(true)

    local skin = character:FindFirstChild("Body Colors")
    local SkinColor = nil
    if skin then
        SkinColor = tostring(skin.HeadColor)
    end

    return {
        Shirt = desc.Shirt,
        Pants = desc.Pants,
        Face = desc.Face,
        Torso = desc.Torso,
        RightArm = desc.RightArm,
        LeftArm = desc.LeftArm,
        RightLeg = desc.RightLeg,
        LeftLeg = desc.LeftLeg,
        Head = desc.Head,
        Accessories = accessories,
        SkinColor = SkinColor,
        IdleAnimation = desc.IdleAnimation,
        WalkAnimation = desc.WalkAnimation,
        RunAnimation = desc.RunAnimation,
        JumpAnimation = desc.JumpAnimation,
        ClimbAnimation = desc.ClimbAnimation,
        FallAnimation = desc.FallAnimation,
        SwimAnimation = desc.SwimAnimation
    }
end

local function ApplyAvatarMethod(saved)
    if getgenv()._LoadSavedAvatarRunning then return end
    getgenv()._LoadSavedAvatarRunning = true

    local lp = Players.LocalPlayer
    local char = lp.Character or lp.CharacterAdded:Wait()
    local hum = char:FindFirstChildOfClass("Humanoid")
    if not hum then getgenv()._LoadSavedAvatarRunning = false return end

    local desc = hum:GetAppliedDescription()

    for _, acc in ipairs(desc:GetAccessories(true)) do
        if acc.AssetId then
            Remotes.Wear:InvokeServer(tonumber(acc.AssetId))
            task.wait()
        end
    end

    if tonumber(saved.Shirt) then Remotes.Wear:InvokeServer(tonumber(saved.Shirt)) task.wait() end
    if tonumber(saved.Pants) then Remotes.Wear:InvokeServer(tonumber(saved.Pants)) task.wait() end

    Remotes.ChangeCharacterBody:InvokeServer({saved.Torso})
    task.wait()
    Remotes.ChangeCharacterBody:InvokeServer({
        saved.Torso,
        saved.RightArm,
        saved.LeftArm,
        saved.RightLeg,
        saved.LeftLeg,
        0
    })
    task.wait()

    if tostring(saved.Head) ~= tostring(desc.Head) then
        Remotes.Wear:InvokeServer(saved.Head)
        task.wait()
    end

    if tonumber(saved.Face) then
        Remotes.Wear:InvokeServer(tonumber(saved.Face))
        task.wait()
    end

    for _, v in ipairs(saved.Accessories or {}) do
        if v.AssetId then
            Remotes.Wear:InvokeServer(tonumber(v.AssetId))
            task.wait()
        end
    end

    if saved.SkinColor then
        task.wait()
        ReplicatedStorage.Remotes.ChangeBodyColor:FireServer(saved.SkinColor)
    end

    local animList = {
        "IdleAnimation",
        "WalkAnimation",
        "RunAnimation",
        "JumpAnimation",
        "ClimbAnimation",
        "FallAnimation",
        "SwimAnimation"
    }

    for _, anim in ipairs(animList) do
        local id = saved[anim]
        if id and tonumber(id) then
            Remotes.Wear:InvokeServer(tonumber(id))
            task.wait()
        end
    end

    getgenv()._LoadSavedAvatarRunning = false
end

AvatarTab:AddButton({
    Name = "Salvar avatar",
    Description = "Salva o seu avatar atual com o nome definido.",
    Callback = function()
        if avatarNameInput == "" then return end
        local av = GetCurrentAvatar()
        if not av then return end
        SavedAvatars[avatarNameInput] = av
        SaveAvatarsToFile()
        UpdateAvatarDropdown()
        avatarNameInput = ""
    end
})

AvatarTab:AddButton({
    Name = "Carregar avatar",
    Description = "Carrega o avatar salvo selecionado (se algum acessório do avatar salvo não tiver sido equipado após carregar, tente carregar novamente).",
    Callback = function()
        if not selectedAvatar or selectedAvatar == "" then return end
        local av = SavedAvatars[selectedAvatar]
        if not av then return end
        ApplyAvatarMethod(av)
    end
})

AvatarTab:AddButton({
    Name = "Excluir avatar",
    Description = "Exclui o avatar salvo selecionado.",
    Callback = function()
        if not selectedAvatar or selectedAvatar == "" then return end
        SavedAvatars[selectedAvatar] = nil
        SaveAvatarsToFile()
        selectedAvatar = nil
        UpdateAvatarDropdown()
    end
})

UpdateAvatarDropdown()
end

AvatarTab:AddSection("Avatar invisível (FE)")

AvatarTab:AddButton({
  Name = "Avatar invisível",
  Description = "Te deixa completamente invisível.",
  Debounce = 0,
  Callback = function()
  if getgenv()._InvisibleAvatarRunning then
    return
end
getgenv()._InvisibleAvatarRunning = true
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local WearRemote = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear")
local Desc = Humanoid:GetAppliedDescription()
for _, accessory in ipairs(Desc:GetAccessories(true)) do
	if accessory.AssetId then
		local args = { tonumber(accessory.AssetId) }
		WearRemote:InvokeServer(unpack(args))
	end
end
task.wait()
local args = {
{
15312911732,
14532583477,
14532583469,
14532583517,
14532583483,
nil
}
}
game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
task.wait()
local args = { 15093053680 }
game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args))
getgenv()._InvisibleAvatarRunning = false
  end
})

AvatarTab:AddSection("Cor")

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local function aplicarCor(cor)
	pcall(function()
		game:GetService("ReplicatedStorage").Remotes.ChangeBodyColor:FireServer(cor)
	end)
end

local SkinToneList = LocalPlayer.PlayerGui
	:WaitForChild("NoResetGUIHandler")
	:WaitForChild("AvatarEditorMenu")
	:WaitForChild("Catalog")
	:WaitForChild("Container")
	:WaitForChild("SkinToneList")

local coresLoop = {}

for _, obj in ipairs(SkinToneList:GetChildren()) do
	if obj:IsA("ImageButton") then
		table.insert(coresLoop, obj.Name)
	end
end

if #coresLoop == 0 then
end

local loopColoridoAtivo = false
local corLoopConnection
local indiceCor = 1

local function iniciarLoopColorido()
	if corLoopConnection then return end

	corLoopConnection = RunService.RenderStepped:Connect(function()
		if not loopColoridoAtivo then
			corLoopConnection:Disconnect()
			corLoopConnection = nil
			return
		end

		aplicarCor(coresLoop[indiceCor])

		indiceCor += 1
		if indiceCor > #coresLoop then
			indiceCor = 1
		end
	end)
end

AvatarTab:AddToggle({
	Name = "Colorido",
	Default = false,
	Callback = function(Value)
		loopColoridoAtivo = Value
		if Value then
			iniciarLoopColorido()
		end
	end
})

-- Tools Tab

ToolsTab:AddSection("Ferramentas úteis")

ToolsTab:AddButton({
    Name = "Couch",
    Description = "Pega o sofá.",
    Callback = function()
        local args = {"PickingTools", "Couch"}
        game:GetService("ReplicatedStorage"):WaitForChild("RE"):WaitForChild("1Too1l"):InvokeServer(unpack(args))
    end
})

ToolsTab:AddSection("Ferramentas secretas")

ToolsTab:AddButton({
    Name = "Egg Launcher",
    Description = "Pega o lançador de ovos do evento.",
    Callback = function()
        local RE = game:GetService("ReplicatedStorage"):WaitForChild("RE")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("ToolGiveToServer", game.Players.LocalPlayer, "EggLauncher")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("AcceptedToolToServer", "EggLauncher", game.Players.LocalPlayer)
    end
})

ToolsTab:AddButton({
    Name = "Uranium Rod",
    Description = "Pega o haste de urânio.",
    Callback = function()
        local RE = game:GetService("ReplicatedStorage"):WaitForChild("RE")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("ToolGiveToServer", game.Players.LocalPlayer, "UraniumRod")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("AcceptedToolToServer", "UraniumRod", game.Players.LocalPlayer)
    end
})

ToolsTab:AddButton({
    Name = "Crystal",
    Description = "Pega o cristal.",
    Callback = function()
        local args = {"PickingTools", "Crystal"}
        game:GetService("ReplicatedStorage"):WaitForChild("RE"):WaitForChild("1Too1l"):InvokeServer(unpack(args))
    end
})

ToolsTab:AddButton({
    Name = "Crystals",
    Description = "Pega os cristais.",
    Callback = function()
        local args = {"PickingTools", "Crystals"}
        game:GetService("ReplicatedStorage"):WaitForChild("RE"):WaitForChild("1Too1l"):InvokeServer(unpack(args))
    end
})

ToolsTab:AddButton({
    Name = "Cannon",
    Description = "Pega o canhão do evento.",
    Callback = function()
        local RE = game:GetService("ReplicatedStorage"):WaitForChild("RE")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("ToolGiveToServer", game.Players.LocalPlayer, "Cannon")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("AcceptedToolToServer", "Cannon", game.Players.LocalPlayer)
    end
})

ToolsTab:AddButton({
    Name = "Glider",
    Description = "Pega o para-quedas do evento.",
    Callback = function()
        local RE = game:GetService("ReplicatedStorage"):WaitForChild("RE")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("ToolGiveToServer", game.Players.LocalPlayer, "Glider")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("AcceptedToolToServer", "Glider", game.Players.LocalPlayer)
    end
})

ToolsTab:AddButton({
    Name = "Golden Basketball",
    Description = "Pega a bola de basquete dourada do evento.",
    Callback = function()
        local RE = game:GetService("ReplicatedStorage"):WaitForChild("RE")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("ToolGiveToServer", game.Players.LocalPlayer, "GoldenBasketball")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("AcceptedToolToServer", "GoldenBasketball", game.Players.LocalPlayer)
    end
})

ToolsTab:AddButton({
    Name = "Chainsaw",
    Description = "Pega a motosserra.",
    Callback = function()
        local RE = game:GetService("ReplicatedStorage"):WaitForChild("RE")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("ToolGiveToServer", game.Players.LocalPlayer, "Chainsaw")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("AcceptedToolToServer", "Chainsaw", game.Players.LocalPlayer)
    end
})

ToolsTab:AddButton({
    Name = "Candy Basket",
    Description = "Pega a cesta de doces.",
    Callback = function()
        local RE = game:GetService("ReplicatedStorage"):WaitForChild("RE")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("ToolGiveToServer", game.Players.LocalPlayer, "CandyBasket")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("AcceptedToolToServer", "CandyBasket", game.Players.LocalPlayer)
    end
})

ToolsTab:AddButton({
    Name = "Money Gun",
    Description = "Pega a arma de dinheiro.",
    Callback = function()
        local RE = game:GetService("ReplicatedStorage"):WaitForChild("RE")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("ToolGiveToServer", game.Players.LocalPlayer, "MoneyGun")
        RE:WaitForChild("1Playe1rTrigge1rEven1t"):FireServer("AcceptedToolToServer", "MoneyGun", game.Players.LocalPlayer)
    end
})

-- Vehicle Tab

VehicleTab:AddSection("Velocidade de veículo")

local SpeedTextBox = VehicleTab:AddTextBox({
	Name = "Velocidade",
	Default = "25",
	Placeholder = "Exemplo: 500",
	ClearOnFocus = false,
	Callback = function(Value)
		local V = tonumber(Value)
		if not V then return end
		local F = workspace:WaitForChild("Vehicles")
		for _, obj in ipairs(F:GetDescendants()) do
			if obj:IsA("NumberValue") and obj.Name == "MaxSpeed" then
				obj.Value = V
			end
		end
		local V2 = tonumber(Value)
		if not V2 then return end
		local F2 = workspace:WaitForChild("Vehicles")
		for _, obj in ipairs(F2:GetDescendants()) do
			if obj:IsA("NumberValue") and obj.Name == "TopSpeed" then
				obj.Value = V2
			end
		end
	end
})

VehicleTab:AddButton({
	Name = "Velocidade padrão",
	Description = "Define a velocidade para o valor padrão.",
	Callback = function()
	    SpeedTextBox:SetText("25")
		local V = 25
		local F = workspace:WaitForChild("Vehicles")
		for _, obj in ipairs(F:GetDescendants()) do
			if obj:IsA("NumberValue") and obj.Name == "MaxSpeed" then
				obj.Value = V
			end
		end
		local V2 = 25
		local F2 = workspace:WaitForChild("Vehicles")
		for _, obj in ipairs(F2:GetDescendants()) do
			if obj:IsA("NumberValue") and obj.Name == "TopSpeed" then
				obj.Value = V2
			end
		end
	end
})

VehicleTab:AddSection("Turbo de veículo")

local TurboTextBox = VehicleTab:AddTextBox({
	Name = "Turbo",
	Default = "11.3",
	Placeholder = "Exemplo: 500",
	ClearOnFocus = false,
	Callback = function(Value)
		local V = tonumber(Value)
		if not V then return end
		local F = workspace:WaitForChild("Vehicles")
		for _, obj in ipairs(F:GetDescendants()) do
			if obj:IsA("StringValue") and obj.Name == "Turbo" then
				obj.Value = tostring(V)
			end
		end
	end
})

VehicleTab:AddButton({
	Name = "Turbo padrão",
	Description = "Define o turbo para o valor padrão.",
	Callback = function()
	   TurboTextBox:SetText("11.3")
		local V = 11.3
		local F = workspace:WaitForChild("Vehicles")
		for _, obj in ipairs(F:GetDescendants()) do
			if obj:IsA("StringValue") and obj.Name == "Turbo" then
				obj.Value = tostring(V)
			end
		end
	end
})

VehicleTab:AddButton({
	Name = "Turbo 1",
	Description = "Define o turbo no nível 1.",
	Callback = function()
	   TurboTextBox:SetText("27.9")
		local V = 27.9
		local F = workspace:WaitForChild("Vehicles")
		for _, obj in ipairs(F:GetDescendants()) do
			if obj:IsA("StringValue") and obj.Name == "Turbo" then
				obj.Value = tostring(V)
			end
		end
	end
})

VehicleTab:AddButton({
	Name = "Turbo 2",
	Description = "Define o turbo no nível 2.",
	Callback = function()
	   TurboTextBox:SetText("44.5")
		local V = 44.5
		local F = workspace:WaitForChild("Vehicles")
		for _, obj in ipairs(F:GetDescendants()) do
			if obj:IsA("StringValue") and obj.Name == "Turbo" then
				obj.Value = tostring(V)
			end
		end
	end
})

VehicleTab:AddButton({
	Name = "Turbo 3",
	Description = "Define o turbo no nível 3.",
	Callback = function()
	   TurboTextBox:SetText("61.1")
		local V = 61.1
		local F = workspace:WaitForChild("Vehicles")
		for _, obj in ipairs(F:GetDescendants()) do
			if obj:IsA("StringValue") and obj.Name == "Turbo" then
				obj.Value = tostring(V)
			end
		end
	end
})

VehicleTab:AddSection("Puxar veículos")

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local VehiclesFolder = workspace:WaitForChild("Vehicles")
local SelectedVehicle = nil

local VehicleDropdown = VehicleTab:AddDropdown({
	Name = "Selecionar veículo",
	Options = {},
	Default = "",
	Callback = function(Value)
		SelectedVehicle = Value
	end
})

local function UpdateVehicleList()
	local VehicleNames = {}
	for _, v in ipairs(VehiclesFolder:GetChildren()) do
		if v:IsA("Model") and v.Name:match("Car$") then
			table.insert(VehicleNames, v.Name)
		end
	end
	VehicleDropdown:NewOptions(VehicleNames)
end

UpdateVehicleList()

VehiclesFolder.ChildAdded:Connect(UpdateVehicleList)
VehiclesFolder.ChildRemoved:Connect(UpdateVehicleList)

local function PullVehicle(vehicle)
	if not vehicle then return end
	local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
	local hrp = char:WaitForChild("HumanoidRootPart")

	if not vehicle.PrimaryPart then
		for _, part in ipairs(vehicle:GetChildren()) do
			if part:IsA("BasePart") then
				vehicle.PrimaryPart = part
				break
			end
		end
	end

	if vehicle.PrimaryPart then
		vehicle:SetPrimaryPartCFrame(hrp.CFrame * CFrame.new(0, 0, 0))
	end
end

VehicleTab:AddButton({
	Name = "Puxar veículo",
	Description = "Puxa o veículo selecionado",
	Callback = function()
		if SelectedVehicle then
			local vehicle = VehiclesFolder:FindFirstChild(SelectedVehicle)
			if vehicle then
				PullVehicle(vehicle)
			end
		end
	end
})

-- Skybox Tab

SkyboxTab:AddSection("Skybox (FE) (Camisa)")

getgenv().AtivarAnim = false
getgenv().AnimEmExecucao = false
getgenv().CurrentTrack = nil
getgenv().UsarCustomShirt = false
getgenv().SelectedShirt = "Obama Shirt"
getgenv().CustomShirtID = ""

local function ExecutarAnimacao(isRespawn)
	if getgenv().AnimEmExecucao then return end
	getgenv().AnimEmExecucao = true
	if not getgenv().AtivarAnim then
		getgenv().AnimEmExecucao = false
		return
	end
	local player = game:GetService("Players").LocalPlayer
	local char = player.Character or player.CharacterAdded:Wait()
	local hum = char:WaitForChild("Humanoid")
	if not isRespawn and getgenv().UsarCustomShirt then
		local shirtId
		if getgenv().SelectedShirt == "Obama Shirt" then
			shirtId = 8567794160
		elseif getgenv().SelectedShirt == "Glitch Shirt" then
			shirtId = 83821615359457
		elseif getgenv().SelectedShirt == "Glitch Shirt 2" then
			shirtId = 5517369600
		elseif tonumber(getgenv().CustomShirtID) then
			shirtId = tonumber(getgenv().CustomShirtID)
		end
		if shirtId then
			local args = {shirtId}
			game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("WearShirt"):InvokeServer(unpack(args))
		end
	end
	game.Players.LocalPlayer.Character.Humanoid.PlatformStand = true
	local args = {"MobileSprintRequestedOff"}
	game:GetService("ReplicatedStorage"):WaitForChild("RE"):WaitForChild("1Max1y"):FireServer(unpack(args))
	hum.WalkSpeed = 0
	hum.JumpPower = 0
	local args = {[1] = {[1] = 100839513065432}}
	game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
	cloneref = cloneref or function(...) return ... end
	local Services = setmetatable({}, {
		__index = function(_, name)
			return cloneref(game:GetService(name))
		end
	})
	local Players = Services.Players
	local player = Players.LocalPlayer
	local character = player.Character or player.CharacterAdded:Wait()
	local humanoid = character:WaitForChild("Humanoid")
	player.CharacterAdded:Connect(function(newCharacter)
		character = newCharacter
		humanoid = character:WaitForChild("Humanoid")
		task.defer(function()
			task.wait(0.5)
			if getgenv().AtivarAnim then
				ExecutarAnimacao(true)
			end
		end)
	end)
	local Settings = {
		["Fade In"] = 0.1,
		["Fade Out"] = 0.1,
		["Weight"] = 1,
		["Speed"] = 1,
		["Time Position"] = 0
	}
	local CurrentTrack
	local function LoadTrack(id)
		if CurrentTrack then
			CurrentTrack:Stop(0)
		end
		local animId
		local ok, result = pcall(function()
			return game:GetObjects("rbxassetid://" .. tostring(id))
		end)
		if ok and result and #result > 0 then
			local anim = result[1]
			if anim:IsA("Animation") then
				animId = anim.AnimationId
			else
				animId = "rbxassetid://" .. tostring(id)
			end
		else
			animId = "rbxassetid://" .. tostring(id)
		end
		local newAnim = Instance.new("Animation")
		newAnim.AnimationId = animId
		local newTrack = humanoid:LoadAnimation(newAnim)
		newTrack.Priority = Enum.AnimationPriority.Action4
		local weight = Settings["Weight"]
		if weight == 0 then weight = 0.001 end
		newTrack:Play(Settings["Fade In"], weight, Settings["Speed"])
		CurrentTrack = newTrack
		CurrentTrack.TimePosition = math.clamp(Settings["Time Position"], 0, 1) * CurrentTrack.Length
		return newTrack
	end
	char:WaitForChild("Animate").Disabled = true
	local EmoteId = 70883871260184
	local Track = LoadTrack(EmoteId)
	game.Players.LocalPlayer.Character.Humanoid.PlatformStand = false
	task.wait(0.2)
	local args = {"MobileSprintRequestedOn"}
	game:GetService("ReplicatedStorage"):WaitForChild("RE"):WaitForChild("1Max1y"):FireServer(unpack(args))
	hum.WalkSpeed = 16
	hum.JumpPower = 50
	getgenv().CurrentTrack = Track
	getgenv().AnimEmExecucao = false
end

local function PararAnimacao()
	getgenv().AtivarAnim = false
	getgenv().AnimEmExecucao = false
	if getgenv().CurrentTrack then
		getgenv().CurrentTrack:Stop()
		getgenv().CurrentTrack = nil
	end
	local player = game:GetService("Players").LocalPlayer
	local char = player.Character
	if char and char:FindFirstChild("Animate") then
		char.Animate.Enabled = true
	end
	game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("ResetCharacterAppearance"):FireServer()
end

local function EquiparCamisa()
	if not getgenv().UsarCustomShirt then return end
	local shirtId
	if getgenv().SelectedShirt == "Obama Shirt" then
		shirtId = 8567794160
	elseif getgenv().SelectedShirt == "Glitch Shirt" then
		shirtId = 83821615359457
	elseif getgenv().SelectedShirt == "Glitch Shirt 2" then
		shirtId = 5517369600
	elseif tonumber(getgenv().CustomShirtID) then
		shirtId = tonumber(getgenv().CustomShirtID)
	end
	if shirtId then
		local args = {shirtId}
		game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("WearShirt"):InvokeServer(unpack(args))
	end
end

SkyboxTab:AddDropdown({
	Name = "Camisa personalizada",
	Options = {"Obama Shirt", "Glitch Shirt", "Glitch Shirt 2"},
	Default = "Obama Shirt",
	Callback = function(Value)
		getgenv().SelectedShirt = Value
		EquiparCamisa()
	end
})

SkyboxTab:AddTextBox({
	Name = "ID de camisa personalizada",
	Description = "Permite que você insira o ID de alguma camisa personalizada para usar na skybox.",
	Placeholder = "ID da camisa",
	ClearOnFocus = false,
	Callback = function(Value)
		getgenv().CustomShirtID = Value
		EquiparCamisa()
	end
})

SkyboxTab:AddToggle({
	Name = "Usar camisa personalizada",
	Description = "Ativa/desativa o uso da camisa personalizada quando for ativar a skybox.",
	Default = false,
	Callback = function(Value)
		getgenv().UsarCustomShirt = Value
		if Value and getgenv().AtivarAnim then
			EquiparCamisa()
		end
	end
})

local AnimToggleInitialized = false

SkyboxTab:AddToggle({
	Name = "Ativar skybox",
	Description = "Ativa a skybox FE.",
	Default = false,
	Callback = function(Value)
		if not AnimToggleInitialized then
			AnimToggleInitialized = true
			return
		end
		getgenv().AtivarAnim = Value
		if Value then
			ExecutarAnimacao()
		else
			PararAnimacao()
		end
	end
})

-- Nuke Tab

NukeTab:AddSection("Nuke")

local skyboxTrack = nil
local RunService = game:GetService("RunService")

local function stopAllAnimations()
    if skyboxTrack then
        pcall(function()
            skyboxTrack:Stop()
            skyboxTrack:Destroy()
        end)
        skyboxTrack = nil
    end
    local player = game.Players.LocalPlayer
    local character = player.Character
    if character then
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            local animator = humanoid:FindFirstChild("Animator")
            if animator then
                for _,track in pairs(animator:GetPlayingAnimationTracks()) do
                    pcall(function()
                        track:Stop()
                    end)
                end
            end
        end
    end
end

local function ApplyNukeAvatar()
local args = {
{
100839513065432,
123402086843885,
78300682916056,
86276701020724,
78409653958165,
120668655481073
}
}
game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
task.wait()
local args = { 17584071085 }
game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args))
task.wait()
local args = { 4387714385 }
game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer(unpack(args))
task.wait()
end

NukeTab:AddToggle({
    Name = "Nuke",
    Description = "Caso não funcionar, tente desativar e ativar novamente.",
    Default = false,
    Callback = function(Value)
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        local PDesc = humanoid and humanoid:GetAppliedDescription()
        local nukeHeadId = tonumber(120668655481073)
        if Value then
            if PDesc and tonumber(PDesc.Head) ~= nukeHeadId then
                ApplyNukeAvatar()
                character = player.Character or player.CharacterAdded:Wait()
                humanoid = character:FindFirstChildOfClass("Humanoid")
            end
            if humanoid then
                local newAnim = Instance.new("Animation")
                newAnim.AnimationId = "rbxassetid://70883871260184"
                skyboxTrack = humanoid:LoadAnimation(newAnim)
                skyboxTrack.Priority = Enum.AnimationPriority.Action4
                skyboxTrack:Play(0.1, 1, 1)
                skyboxTrack:AdjustSpeed(0.0001)
            end
        else
            stopAllAnimations()
            local humanoidAfter = (player.Character or player.CharacterAdded:Wait()):FindFirstChildOfClass("Humanoid")
            local desc2 = humanoidAfter and humanoidAfter:GetAppliedDescription()
            if desc2 and tonumber(desc2.Head) == nukeHeadId then
                game:GetService("ReplicatedStorage").Remotes.Wear:InvokeServer()
                game.ReplicatedStorage.Remotes.ResetCharacterAppearance:FireServer()
            end
        end
    end
})

-- Utils Tab

UtilsTab:AddSection("Auto")

do
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local savedPos = nil
local deathConn = nil
local charAddedConn = nil

UtilsTab:AddToggle({
    Name = "Auto respawnar",
    Description = "Faz você sempre spawnar no lugar onde você morreu.",
    Default = false,
    Callback = function(Value)
        if Value then
            local function setupCharacter(char)
                local hum = char:WaitForChild("Humanoid")
                deathConn = hum.HealthChanged:Connect(function(h)
                    if h <= 0 then
                        savedPos = char:WaitForChild("HumanoidRootPart").CFrame
                    end
                end)
            end

            if LocalPlayer.Character then
                setupCharacter(LocalPlayer.Character)
            end

            charAddedConn = LocalPlayer.CharacterAdded:Connect(function(char)
                char:WaitForChild("Humanoid")
                char:WaitForChild("HumanoidRootPart")
                if savedPos then
                    task.wait()
                    char:WaitForChild("HumanoidRootPart").CFrame = savedPos
                end
                setupCharacter(char)
            end)

        else
            if deathConn then
                deathConn:Disconnect()
                deathConn = nil
            end
            if charAddedConn then
                charAddedConn:Disconnect()
                charAddedConn = nil
            end

            savedPos = nil
        end
    end
})
end

UtilsTab:AddSection("ESP de objetos")

-- ESP props

if getgenv()._ESPPropsRunning == nil then
    getgenv()._ESPPropsRunning = false
end

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local lp = Players.LocalPlayer

local ESPObjects = {}
local ConnectionAdded, ConnectionRemoved

local function CreateBillboard()
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "ESPBillboard"
    billboard.AlwaysOnTop = true
    billboard.Size = UDim2.new(0, 200, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 3, 0)

    local text = Instance.new("TextLabel")
    text.Size = UDim2.new(1, 0, 1, 0)
    text.BackgroundTransparency = 1
    text.TextColor3 = Color3.new(1, 1, 1)
    text.Font = Enum.Font.GothamMedium
    text.TextScaled = true
    text.Parent = billboard

    return billboard
end

local function CreateHighlight(target)
    local h = Instance.new("Highlight")
    h.Name = "ESPHighlight"
    h.FillTransparency = 1
    h.OutlineColor = Color3.new(1, 1, 1)
    h.OutlineTransparency = 0
    h.Parent = target
    return h
end

local function WaitForBasePart(obj)
    if obj:IsA("BasePart") then return obj end
    if obj:IsA("Model") then
        local t = 0
        while t < 3 do
            local base = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
            if base then return base end
            task.wait(0.1)
            t += 0.1
        end
    end
end

local function UpdateTextLoop(billboard, playerName, part)
    task.spawn(function()
        while getgenv()._ESPPropsRunning and billboard.Parent do
            local dist = 0
            if lp.Character and lp.Character.PrimaryPart then
                dist = (lp.Character.PrimaryPart.Position - part.Position).Magnitude
            end
            billboard.TextLabel.Text =
                ("Dono da prop: %s   Distância: %dm"):format(playerName, math.floor(dist))

            task.wait(0.2)
        end
    end)
end

local function AddESP(obj)
    if not getgenv()._ESPPropsRunning then return end
    if ESPObjects[obj] then return end
    if not (obj:IsA("Model") or obj:IsA("BasePart")) then return end

    local name = obj.Name:lower()
    if not name:match("^prop") then return end

    local owner = name:sub(5)
    if owner == "" then return end

    for _, plr in ipairs(Players:GetPlayers()) do
        if plr.Name:lower() == owner then
            local base = WaitForBasePart(obj)
            if not base then return end

            local highlight = CreateHighlight(obj)
            local billboard = CreateBillboard()
            billboard.Adornee = base
            billboard.Parent = base

            ESPObjects[obj] = {Highlight = highlight, Billboard = billboard}
            UpdateTextLoop(billboard, plr.Name, base)
            return
        end
    end
end

local function RemoveESP(obj)
    local data = ESPObjects[obj]
    if not data then return end
    if data.Highlight then data.Highlight:Destroy() end
    if data.Billboard then data.Billboard:Destroy() end
    ESPObjects[obj] = nil
end

local function ScanExisting()
    for _, obj in ipairs(Workspace:GetDescendants()) do
        AddESP(obj)
    end
end

local function StartESP()
    getgenv()._ESPPropsRunning = true

    task.defer(ScanExisting)

    ConnectionAdded = Workspace.DescendantAdded:Connect(function(obj)
        task.wait(0.05)
        AddESP(obj)
    end)

    ConnectionRemoved =
        Workspace.DescendantRemoving:Connect(RemoveESP)
end

local function StopESP()
    getgenv()._ESPPropsRunning = false

    if ConnectionAdded then ConnectionAdded:Disconnect() end
    if ConnectionRemoved then ConnectionRemoved:Disconnect() end

    for _, data in pairs(ESPObjects) do
        if data.Highlight then data.Highlight:Destroy() end
        if data.Billboard then data.Billboard:Destroy() end
    end

    table.clear(ESPObjects)
end

UtilsTab:AddToggle({
    Name = "ESP props",
    Description = "Mostra todas as props do mapa.",
    Default = false,
    Callback = function(Value)
        if Value then
            StartESP()
        else
            StopESP()
        end
    end
})

UtilsTab:AddSection("Reentrar")

UtilsTab:AddButton({
  Name = "Reentrar",
  Description = "Reentra no mesmo servidor.",
  Callback = function()
    local TeleportService = game:GetService("TeleportService")
    local player = Players.LocalPlayer
    local placeId = game.PlaceId
    local jobId = game.JobId
    TeleportService:TeleportToPlaceInstance(placeId, jobId, player)
  end
})

UtilsTab:AddSection("Auto reentrar")

local GuiService = game:GetService("GuiService")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")

local autoRejoin = false
local connection

local function enableAutoRejoin()
    connection = GuiService.ErrorMessageChanged:Connect(function()
        local errorMessage = GuiService:GetErrorMessage()
        if errorMessage and errorMessage ~= "" then
            
            task.wait(3)
            
            local player = Players.LocalPlayer
            local placeId = game.PlaceId
            local jobId = game.JobId
            
            TeleportService:TeleportToPlaceInstance(placeId, jobId, player)
        end
    end)
end

local function disableAutoRejoin()
    if connection then
        connection:Disconnect()
        connection = nil
    end
end

UtilsTab:AddToggle({
  Name = "Auto reentrar",
  Description = "Reentra automaticamente no mesmo servidor quando você é desconectado.",
  Default = false,
  Callback = function(Value)
    if Value then
            enableAutoRejoin()
        else
            disableAutoRejoin()
        end
  end
})

UtilsTab:AddSection("Salvar servidor")

UtilsTab:AddButton({
    Name = "Salvar servidor",
    Description = "Salva o servidor atual para que você possa voltar nele quando quiser.",
    Callback = function()
        local jobId = game.JobId  
        if jobId and jobId ~= "" then  
            local url = "https://saved-servers-eight.vercel.app/servers?season=" .. jobId  
            if setclipboard then  
                setclipboard(url)  
            end  
            Window:Notify({
                Title = "Servidor salvo",
                Content = "Esse servidor foi salvo com sucesso. Cole o link que foi copiado no seu navegador e clique em \"Entrar no servidor\" para retornar a este servidor.",
                Image = "home",
                Duration = 5
            })
        end
    end
})

-- Home Tab

HomeTab:AddSection("Casas")

do
if getgenv()._AntiBanBlockRunning then
    return
end

local Lots = workspace:WaitForChild("001_Lots")

local AutoDeleteEnabled = false
local Connections = {}

local function DeleteIfBanned(obj)
    local name = obj.Name:lower()
    if name:find("bannedblock") then
        task.delay(3, function()
            if AutoDeleteEnabled and obj and obj.Parent then
                obj:Destroy()
            end
        end)
    end
end

local function StartMonitoring()
    for _, obj in ipairs(Lots:GetDescendants()) do
        DeleteIfBanned(obj)
    end

    table.insert(Connections,
        Lots.DescendantAdded:Connect(function(obj)
            DeleteIfBanned(obj)
        end)
    )
end

local function StopMonitoring()
    for _, conn in ipairs(Connections) do
        if conn.Connected then
            conn:Disconnect()
        end
    end
    table.clear(Connections)
end

HomeTab:AddToggle({
    Name = "Anti bloco de banimento",
    Description = "Remove todos os blocos de banimento quando você está banido de uma casa ou é banido de uma casa.",
    Default = false,
    Callback = function(Value)
        AutoDeleteEnabled = Value
        if Value then
            getgenv()._AntiBanBlockRunning = true
            StartMonitoring()
        else
            getgenv()._AntiBanBlockRunning = false
            StopMonitoring()
        end
    end
})
end

-- Props Tab

PropsTab:AddSection("Seguidor de props")

do
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local SelectedTarget = nil
local SystemEnabled = false
local SpinEnabled = false

local RGBEnabled = false
local CachedColorRemotes = {}
local rgbHue = 0

local PropsFolder = workspace.WorkspaceCom["001_TrafficCones"]
local speed = 20
local radius = 0
local t = 0

local OffsetX = 0
local OffsetY = 0
local OffsetZ = 0

local CachedRemotes = {}

local function getTargetHRP()
	if not SelectedTarget then return end
	local plr = Players:FindFirstChild(SelectedTarget)
	local char = plr and plr.Character
	return char and char:FindFirstChild("HumanoidRootPart")
end

local function ScanMyProps()
	table.clear(CachedRemotes)

	local myPropName = "Prop" .. LocalPlayer.Name

	for _, prop in ipairs(PropsFolder:GetChildren()) do
		if prop:IsA("Model") and prop.Name == myPropName then
			local rf = prop:FindFirstChild("SetCurrentCFrame", true)
			if rf and rf:IsA("RemoteFunction") then
				table.insert(CachedRemotes, rf)
			end
		end
	end
end

local function ScanMyColorRemotes()
	table.clear(CachedColorRemotes)

	local myPropName = "Prop" .. LocalPlayer.Name

	for _, prop in ipairs(PropsFolder:GetChildren()) do
		if prop:IsA("Model") and prop.Name == myPropName then
			local rf = prop:FindFirstChild("ChangePropColor", true)
			if rf and rf:IsA("RemoteFunction") then
				table.insert(CachedColorRemotes, rf)
			end
		end
	end
end

PropsFolder.ChildAdded:Connect(function(child)
	if child:IsA("Model") and child.Name == "Prop" .. LocalPlayer.Name then
		task.wait(0.1)
		local rf = child:FindFirstChild("ChangePropColor", true)
		if rf then
			table.insert(CachedColorRemotes, rf)
		end
	end
end)

PropsFolder.ChildRemoved:Connect(function(child)
	for i, rf in ipairs(CachedColorRemotes) do
		if rf.Parent == child then
			table.remove(CachedColorRemotes, i)
			break
		end
	end
end)

PropsFolder.ChildAdded:Connect(function(child)
	if child:IsA("Model") and child.Name == "Prop" .. LocalPlayer.Name then
		task.wait(0.1)
		local rf = child:FindFirstChild("SetCurrentCFrame", true)
		if rf then
			table.insert(CachedRemotes, rf)
		end
	end
end)

PropsFolder.ChildRemoved:Connect(function(child)
	for i, rf in ipairs(CachedRemotes) do
		if rf.Parent == child then
			table.remove(CachedRemotes, i)
			break
		end
	end
end)

local UPDATE_RATE = 1 / 10

task.spawn(function()
	while true do
		if SystemEnabled then
			local hrp = getTargetHRP()
			if hrp then
				t += speed * UPDATE_RATE

				for i = #CachedRemotes, 1, -1 do
					local rf = CachedRemotes[i]

					if not rf or not rf.Parent then
						table.remove(CachedRemotes, i)
						continue
					end

					local offset = CFrame.new()
					local rot = CFrame.new()

					if SpinEnabled then
						offset = CFrame.new(
							math.sin(t + i) * radius,
							math.cos(t * 1.5 + i) * radius,
							math.sin(t * 0.8 + i) * radius
						)

						rot = CFrame.Angles(
							math.sin(t + i),
							math.cos(t + i),
							math.sin(t * 1.3 + i)
						)
					end

                    local heightCF = CFrame.new(0, HeightOffset, 0)

                    local manualOffset = CFrame.new(
	                OffsetX,
	                OffsetY,
	                OffsetZ
                    )

                    local finalCF = hrp.CFrame * manualOffset * offset * rot
                    
                    task.defer(function()
						rf:InvokeServer(finalCF)
					end)
				end
			end
		end

		task.wait(UPDATE_RATE)
	end
end)

task.spawn(function()
	while true do
		if RGBEnabled then
			rgbHue += 0.01
			if rgbHue > 1 then
				rgbHue = 0
			end

			local color = Color3.fromHSV(rgbHue, 1, 1)

			for i = #CachedColorRemotes, 1, -1 do
				local rf = CachedColorRemotes[i]

				if not rf or not rf.Parent then
					table.remove(CachedColorRemotes, i)
				else
					task.defer(function()
						rf:InvokeServer(color)
					end)
				end
			end
		end

		task.wait(0.05)
	end
end)

local PropDropdown = PropsTab:AddDropdown({
	Name = "Selecionar jogador",
	Options = {},
	Default = "",
	Callback = function(Value)
		SelectedTarget = Value
	end
})

local function UpdatePlayerListProps()
	local PlayerNames = {}

	for _, plr in ipairs(Players:GetPlayers()) do
		table.insert(PlayerNames, plr.Name)
	end

	PropDropdown:NewOptions(PlayerNames)
end

UpdatePlayerListProps()
Players.PlayerAdded:Connect(UpdatePlayerListProps)
Players.PlayerRemoving:Connect(UpdatePlayerListProps)

PropsTab:AddToggle({
	Name = "Ativar",
	Description = "Ativa o seguidor de props.",
	Default = false,
	Callback = function(Value)
		SystemEnabled = Value
		if Value then
			ScanMyProps()
		end
	end
})

PropsTab:AddSection("Configurações do seguidor de props")

PropsTab:AddToggle({
	Name = "Girar",
	Description = "Faz as props girarem enquanto seguem o jogador.",
	Default = false,
	Callback = function(Value)
		SpinEnabled = Value
	end
})

PropsTab:AddSection("Posições das props")

local SliderX = PropsTab:AddSlider({
	Name = "Direita / Esquerda",
	Min = -20,
	Max = 20,
	Increment = 0.25,
	Default = 0,
	Callback = function(Value)
		OffsetX = Value
	end
})

local SliderY = PropsTab:AddSlider({
	Name = "Altura",
	Min = -20,
	Max = 20,
	Increment = 0.25,
	Default = 0,
	Callback = function(Value)
		OffsetY = Value
	end
})

local SliderZ = PropsTab:AddSlider({
	Name = "Frente / Trás",
	Min = -20,
	Max = 20,
	Increment = 0.25,
	Default = 0,
	Callback = function(Value)
		OffsetZ = Value
	end
})

PropsTab:AddButton({
	Name = "Resetar posições",
	Callback = function()
		OffsetX = 0
		OffsetY = 0
		OffsetZ = 0
		SliderX:SetValue(0)
		SliderY:SetValue(0)
		SliderZ:SetValue(0)
	end
})

PropsTab:AddSection("Cor")

PropsTab:AddToggle({
	Name = "Props coloridas",
	Description = "Deixa suas props coloridas.",
	Default = false,
	Callback = function(Value)
		RGBEnabled = Value
		if Value then
			ScanMyColorRemotes()
		end
	end
})
end

-- Extra Tab

ExtraTab:AddSection("Extra scripts")

ExtraTab:AddButton({
	Name = "Infinite Yield",
	Description = "Executa o Infinite Yield.",
	Callback = function()
	   loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
	end
})

ExtraTab:AddButton({
	Name = "Fly Gui V3",
	Description = "Executa o Fly Gui V3.",
	Callback = function()
	   loadstring(game:HttpGet("https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"))()
	end
})

ExtraTab:AddButton({
	Name = "Walkfling Gui",
	Description = "Executa o Walkfling Gui.",
	Callback = function()
	   if game.PlaceId == 4924922222 then
local Players, RunService = game:GetService("Players"), game:GetService("RunService")
local speaker = Players.LocalPlayer
local walkflinging = false
local walkflingThread = nil

local function c(char)
    return char and char:FindFirstChild("HumanoidRootPart")
end

local function b()
    walkflinging = false
    walkflingThread = nil
end

local function a()
    if walkflingThread then return end

    walkflinging = true
    walkflingThread = coroutine.create(function()
        repeat RunService.Heartbeat:Wait()
            local character = speaker.Character
            local root = c(character)
            local vel, movel = nil, 0.1

            while not (character and character.Parent and root and root.Parent) do
                RunService.Heartbeat:Wait()
                character = speaker.Character
                root = c(character)
            end

            vel = root.Velocity
            root.Velocity = vel * 1000000000000000000000000000000 + Vector3.new(0, 1000000000000000000000000000000, 0)

            RunService.RenderStepped:Wait()
            if character and character.Parent and root and root.Parent then
                root.Velocity = vel
            end

            RunService.Stepped:Wait()
            if character and character.Parent and root and root.Parent then
                root.Velocity = vel + Vector3.new(0, movel, 0)
                movel = movel * -1
            end
        until not walkflinging

        walkflingThread = nil
    end)

    coroutine.resume(walkflingThread)
  end

local CollectionService = game:GetService("CollectionService");
local G2L = {};

G2L["ScreenGui_1"] = Instance.new("ScreenGui", game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui"));
G2L["ScreenGui_1"]["ZIndexBehavior"] = Enum.ZIndexBehavior.Sibling;
G2L["ScreenGui_1"]["ResetOnSpawn"] = false;

CollectionService:AddTag(G2L["ScreenGui_1"], [[main]]);

G2L["Frame_2"] = Instance.new("Frame", G2L["ScreenGui_1"]);
G2L["Frame_2"]["Active"] = true;
G2L["Frame_2"]["Draggable"] = true;
G2L["Frame_2"]["BorderSizePixel"] = 0;
G2L["Frame_2"]["BackgroundColor3"] = Color3.fromRGB(201, 201, 201);
G2L["Frame_2"]["Size"] = UDim2.new(0, 116, 0, 16);
G2L["Frame_2"]["Position"] = UDim2.new(0, 290, 0, -50);

G2L["TextLabel_3"] = Instance.new("TextLabel", G2L["Frame_2"]);
G2L["TextLabel_3"]["BorderSizePixel"] = 0;
G2L["TextLabel_3"]["TextSize"] = 10;
G2L["TextLabel_3"]["BackgroundColor3"] = Color3.fromRGB(255, 255, 255);
G2L["TextLabel_3"]["FontFace"] = Font.new([[rbxasset://fonts/families/GothamSSm.json]], Enum.FontWeight.Bold, Enum.FontStyle.Normal);
G2L["TextLabel_3"]["TextColor3"] = Color3.fromRGB(255, 255, 255);
G2L["TextLabel_3"]["BackgroundTransparency"] = 1;
G2L["TextLabel_3"]["Size"] = UDim2.new(0, 108, 0, 16);
G2L["TextLabel_3"]["Text"] = [[Walkfling]];
G2L["TextLabel_3"]["Position"] = UDim2.new(0, 4, 0, 0);

G2L["TextButton_4"] = Instance.new("TextButton", G2L["Frame_2"]);
G2L["TextButton_4"]["BorderSizePixel"] = 0;
G2L["TextButton_4"]["TextSize"] = 15;
G2L["TextButton_4"]["AutoButtonColor"] = false;
G2L["TextButton_4"]["TextColor3"] = Color3.fromRGB(255, 255, 255);
G2L["TextButton_4"]["BackgroundColor3"] = Color3.fromRGB(255, 0, 0);
G2L["TextButton_4"]["FontFace"] = Font.new([[rbxasset://fonts/families/GothamSSm.json]], Enum.FontWeight.Bold, Enum.FontStyle.Normal);
G2L["TextButton_4"]["Size"] = UDim2.new(0, 116, 0, 36);
G2L["TextButton_4"]["Text"] = [[Off]];
G2L["TextButton_4"]["Position"] = UDim2.new(0, 0, 0, 16);

local button = G2L["TextButton_4"]
local isOn = false

button.MouseButton1Click:Connect(function()
	isOn = not isOn
	if isOn then
		button.Text = "On"
		button.BackgroundColor3 = Color3.fromRGB(49, 86, 255)
		a()
	else
		button.Text = "Off"
		button.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
		b()
	end
end)

speaker.CharacterAdded:Connect(function()
    if walkflinging then
        task.wait(1)
        a()
    end
end)

return G2L["ScreenGui_1"], require;
       end
	end
})
end